<!DOCTYPE html>
<html>
<body>

<canvas id="canvas" width="300" height="300" style="border:1px solid #ccc;"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

// 各母音の線の座標（簡略化した縦・横線パターン）
const vowels = [
  // ㅏ
  [
    { start: [150, 40], end: [150, 200] },
    { start: [150, 120], end: [210, 120] }
  ],
  // ㅑ
  [
    { start: [140, 40], end: [140, 200] },
    { start: [160, 40], end: [160, 200] },
    { start: [160, 120], end: [220, 120] }
  ],
  // ㅓ
  [
    { start: [210, 40], end: [210, 200] },
    { start: [150, 120], end: [210, 120] }
  ],
  // ㅕ
  [
    { start: [200, 40], end: [200, 200] },
    { start: [220, 40], end: [220, 200] },
    { start: [150, 120], end: [220, 120] }
  ],
  // ㅗ
  [
    { start: [150, 120], end: [210, 120] },
    { start: [180, 120], end: [180, 180] }
  ],
  // ㅛ
  [
    { start: [150, 120], end: [210, 120] },
    { start: [180, 120], end: [180, 180] },
    { start: [180, 150], end: [210, 150] }
  ],
  // ㅜ
  [
    { start: [150, 180], end: [210, 180] },
    { start: [180, 120], end: [180, 180] }
  ],
  // ㅠ
  [
    { start: [150, 180], end: [210, 180] },
    { start: [180, 120], end: [180, 180] },
    { start: [180, 150], end: [150, 150] }
  ],
  // ㅡ
  [
    { start: [150, 150], end: [210, 150] }
  ],
  // ㅣ
  [
    { start: [180, 40], end: [180, 200] }
  ]
];

const stepCount = 20; // 線を分割するステップ数
let vowelIndex = 0;
let strokeIndex = 0;
let step = 0;

function drawVowel() {
  ctx.lineWidth = 6;
  ctx.lineCap = "round";
  ctx.strokeStyle = "black";

  const currentVowel = vowels[vowelIndex];

  if (strokeIndex >= currentVowel.length) {
    // すべての線を書き終えたら少し待って白紙に戻す
    setTimeout(() => {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      vowelIndex = (vowelIndex + 1) % vowels.length; // 次の母音へ
      strokeIndex = 0;
      step = 0;
      setTimeout(drawVowel, 500); // 少し待って再スタート
    }, 500);
    return;
  }

  const stroke = currentVowel[strokeIndex];
  const [x0, y0] = stroke.start;
  const [x1, y1] = stroke.end;

  const x = x0 + ((x1 - x0) * step / stepCount);
  const y = y0 + ((y1 - y0) * step / stepCount);

  if (step === 0) {
    ctx.beginPath();
    ctx.moveTo(x0, y0);
  }

  ctx.lineTo(x, y);
  ctx.stroke();

  step++;
  if (step <= stepCount) {
    setTimeout(drawVowel, 50); // 線を描くスピード
  } else {
    strokeIndex++;
    step = 0;
    setTimeout(drawVowel, 200); // 次の線までの間隔
  }
}

window.onload = drawVowel;
</script>

</body>
</html>